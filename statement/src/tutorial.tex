\begin{Solution}{Coffee or Chicken}

\begin{frame}{\ProblemName}

\small Problem Author: Jiang Yanyan, Problem Developer: Chen Shaoyuan \par \vspace{0.3cm}

\small Submissions: Div.2 (?+?)/(?+?), Div.1 (?+?)/(?+?) \par \vspace{0.5cm}

$$S(1) = \texttt{"COFFEE"}, S(2) = \texttt{"CHICKEN"}, S(n) = S(n-1) + S(n-2)$$

Find \texttt{S(n)[k:k+10]}. For Div.2, $n \leq 30$; for Div.1 $n \leq 500$ and $k \leq 10^{12}$.

\pause

For Div.2, the length of the string is proportional to the $n$-th Fibonacci number, which grows in $O(1.619^n)$, so direct construction of the string may fit in time limit. 

There are mainly two different implementations. One is iterative, the other is recursive. Both implementations have time complexity $O(1.619^n)$, which is left as an exercise.

\end{frame}

\begin{frame}{\ProblemName}

For Div.1, it is impossible to construct $S(n)$ when $n$ is too large. Since the length of answer is at most 10, we may generate the answer characterwise. Let $f(n, k)$ denote the $k$-th character in $S(n)$, one may easily write a recurrence to compute $f(n, k)$: (base case omitted)

$$ f(n, k) = \begin{cases}
f(n-1, k - |S(n-2)|), & k > |S(n-2)| \\
f(n-1, k), & \text{otherwise}
\end{cases} $$

\pause

By precomputing $|S(n)|$ for each possible $n$, this can be solved in $O(10n)$ time. However, $|S(n)|$ may be large.

\pause

To avoid big integer arithmetic, one should discover that $S(n-2)$ is a prefix of $S(n)$. So we may subtract an even number from $n$ without changing the answer, as long as the length of the resulting string is large enough.

\end{frame}

\end{Solution}
